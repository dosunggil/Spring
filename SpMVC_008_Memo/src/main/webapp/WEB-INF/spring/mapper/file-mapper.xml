<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
 <mapper namespace="com.callor.memo.persistance.FileDao">
 
 	<insert id="insert" parameterType="FileVO">
 		INSERT INTO tbl_file(
 			f_seq, 
 			f_mseq, 
 			f_originalName, 
 			f_imageName
 		) VALUES (
			#{f_seq}, 
 			#{f_mseq}, 
 			#{f_originalName}, 
 			#{f_imageName}
 		)
 	</insert>

	<!-- 게시판과 연관된 파일 리스트 가져오기 -->
 	<select id="findByMemoSeq" resultType="FileVO">
 		SELECT * FROM tbl_file
 		WHERE f_mseq = #{f_mseq}
 	</select>

 	<select id="create_file_table">
	 	Create Table if not exists tbl_file (
	 			f_seq  BIGINT PRIMARY KEY AUTO_INCREMENT,
		        f_mseq BIGINT NOT NULL,
		        f_originalName VARCHAR(255) NOT NULL,	
		        f_imageName VARCHAR(255)	NOT NULL	
		)
 	</select>
 
 <delete id="delete">
 		delete from tbl_file where f_mseq= #{f_mseq}
 	</delete>
 	
 
 
 
 </mapper> 